[2K[1G[2m$ npx nx run-many --target=ci[22m

 [36m>[39m [0m[7m[1m[36m NX [39m[22m[27m[0m  [36mRunning target [1mci[22m for 3 projects:[39m

    [2m-[22m memory-snap-frontend
    [2m-[22m memory-snap-backend
    [2m-[22m .

 

[2m> [22m[2mnx run[22m memory-snap-backend:ci

[2K[1G[2m$ cross-env ci=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test yarn jest[22m
[2K[1G[2m$ C:\Users\keego\Documents\repos\memory-snap\node_modules\.bin\jest[22m
  [2m[33mconsole.warn[39m[22m
[33m    SOCKET DISCONNECTED[39m
[2m[22m
[2m    [0m [90m 12 |[39m[0m[22m
[2m    [0m [90m 13 |[39m [36mconst[39m handleDisconnect [33m=[39m () [33m=>[39m {[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 14 |[39m   console[33m.[39mwarn([32m'SOCKET DISCONNECTED'[39m)[33m;[39m[0m[22m
[2m    [0m [90m    |[39m           [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 15 |[39m }[33m;[39m[0m[22m
[2m    [0m [90m 16 |[39m[0m[22m
[2m    [0m [90m 17 |[39m [36mconst[39m setupDefaultEvents [33m=[39m (socket) [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat warn ([22m[2mcontrollers/socketio/index.js[2m:14:11)[22m[2m[22m
[2m      [2mat Socket.handleDisconnect ([22m[2mcontrollers/socketio/index.js[2m:19:33)[22m[2m[22m
[2m      [2mat Socket.emitReserved ([22m[2m../../node_modules/socket.io/dist/typed-events.js[2m:56:22)[22m[2m[22m
[2m      [2mat Socket._onclose ([22m[2m../../node_modules/socket.io/dist/socket.js[2m:561:14)[22m[2m[22m
[2m      [2mat Socket.disconnect ([22m[2m../../node_modules/socket.io/dist/socket.js[2m:607:18)[22m[2m[22m
[2m      [2mat Object.disconnect ([22m[2m[0m[36mcontrollers/socketio/index.test.js[39m[0m[2m:18:18)[22m[2m[22m

[0m[7m[1m[32m PASS [39m[22m[27m[0m [2mcontrollers/socketio/[22m[1mindex.test.js[22m ([0m[1m[41m26.049 s[49m[22m[0m)
  socket.io
    [32m√[39m [2mresponds to ping (773 ms)[22m

[0m[7m[1m[32m PASS [39m[22m[27m[0m [2m./[22m[1mapp.test.js[22m ([0m[1m[41m30.285 s[49m[22m[0m)
  app
    [32m√[39m [2mreturns photos array (635 ms)[22m
    [32m√[39m [2mreturns error on fail (44 ms)[22m

[1mTest Suites: [22m[1m[32m2 passed[39m[22m, 2 total
[1mTests:       [22m[1m[32m3 passed[39m[22m, 3 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        [1m[33m31.79 s[39m[22m
[2mRan all test suites[22m[2m.[22m

[2m> [22m[2mnx run[22m memory-snap-frontend:ci

[2K[1G[2m$ cross-env CI=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test react-scripts test[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/reducer/[22m[1mindex.test.js[22m ([0m[1m[41m12.472 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/Tile/[22m[1mindex.test.jsx[22m ([0m[1m[41m15.936 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/[22m[1mindex.test.jsx[22m ([0m[1m[41m17.717 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/[22m[1mApp.test.jsx[22m ([0m[1m[41m7.09 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/[22m[1mindex.test.jsx[22m ([0m[1m[41m5.199 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/Spinner/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Header/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/ProgressBar/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/ScoreBoard/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/PlayerHUD/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useGameContext/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/TileGrid/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Layout/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/usePhotosContext/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFormContext/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Form/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFetchedPhotos/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/reducer/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/reducer/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/helpers/[22m[1mcreateTilesFromPhotos.test.jsx[22m

[1mTest Suites: [22m[1m[32m24 passed[39m[22m, 24 total
[1mTests:       [22m[1m[32m62 passed[39m[22m, 62 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        [1m[33m51.739 s[39m[22m
[2mRan all test suites[22m[2m.[22m

[2m> [22m[2mnx run[22m .:ci

[2K[1G[2m$ npx nx run-many --target=ci[22m

 [36m>[39m [0m[7m[1m[36m NX [39m[22m[27m[0m  [36mRunning target [1mci[22m for 3 projects:[39m

    [2m-[22m memory-snap-frontend
    [2m-[22m memory-snap-backend
    [2m-[22m .

 

[2m> [22m[2mnx run[22m memory-snap-frontend:ci

[2K[1G[2m$ cross-env CI=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test react-scripts test[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/reducer/[22m[1mindex.test.js[22m ([0m[1m[41m16.763 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/Tile/[22m[1mindex.test.jsx[22m ([0m[1m[41m21.244 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/[22m[1mindex.test.jsx[22m ([0m[1m[41m22.278 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/[22m[1mApp.test.jsx[22m ([0m[1m[41m11.329 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/[22m[1mindex.test.jsx[22m ([0m[1m[41m8.266 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/Spinner/[22m[1mindex.test.jsx[22m ([0m[1m[41m7.822 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Layout/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.856 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.707 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/usePhotosContext/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.95 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useGameContext/[22m[1mindex.test.jsx[22m ([0m[1m[41m563.365 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/PlayerHUD/[22m[1mindex.test.jsx[22m ([0m[1m[41m563.984 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Header/[22m[1mindex.test.jsx[22m ([0m[1m[41m563.694 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/TileGrid/[22m[1mindex.test.jsx[22m ([0m[1m[41m13.618 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/ProgressBar/[22m[1mindex.test.jsx[22m ([0m[1m[41m11.742 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Form/[22m[1mindex.test.jsx[22m ([0m[1m[41m11.347 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFormContext/[22m[1mindex.test.jsx[22m ([0m[1m[41m9.788 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFetchedPhotos/[22m[1mindex.test.js[22m ([0m[1m[41m9.865 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/ScoreBoard/[22m[1mindex.test.jsx[22m ([0m[1m[41m11.669 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/reducer/[22m[1mindex.test.js[22m ([0m[1m[41m5.867 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/reducer/[22m[1mindex.test.js[22m ([0m[1m[41m6.446 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/helpers/[22m[1mcreateTilesFromPhotos.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/actions/[22m[1mindex.test.js[22m
[33mA worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.[39m

[1mTest Suites: [22m[1m[32m24 passed[39m[22m, 24 total
[1mTests:       [22m[1m[32m62 passed[39m[22m, 62 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        [1m[33m642.641 s[39m[22m
[2mRan all test suites[22m[2m.[22m

[2m> [22m[2mnx run[22m memory-snap-backend:ci

[2K[1G[2m$ cross-env ci=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test yarn jest[22m
[2K[1G[2m$ C:\Users\keego\Documents\repos\memory-snap\node_modules\.bin\jest[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mcontrollers/socketio/[22m[1mindex.test.js[22m ([0m[1m[41m626.579 s[49m[22m[0m)
  socket.io
    [31m×[39m [2mresponds to ping (679 ms)[22m

[1m[31m  [1m● [22m[1msocket.io › responds to ping[39m[22m

    listen EADDRINUSE: address already in use :::7000
[2m[22m
[2m    [0m [90m 21 |[39m   [36mconst[39m httpServer [33m=[39m createServer()[33m;[39m[0m[22m
[2m    [0m [90m 22 |[39m   [36mconst[39m io [33m=[39m [36mnew[39m [33mServer[39m(httpServer)[33m;[39m[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 23 |[39m   httpServer[33m.[39mlisten(process[33m.[39menv[33m.[39m[33mSOCKET_PORT[39m)[33m;[39m[0m[22m
[2m    [0m [90m    |[39m              [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 24 |[39m[0m[22m
[2m    [0m [90m 25 |[39m   [36mconst[39m clientSocket [33m=[39m ioc([32m`ws://localhost:${process.env.SOCKET_PORT}`[39m[33m,[39m {[0m[22m
[2m    [0m [90m 26 |[39m     transports[33m:[39m [[32m'websocket'[39m][33m,[39m[0m[22m
[2m[22m
[2m      [2mat listen ([22m[2m__test__/helpers.js[2m:23:14)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mcontrollers/socketio/index.test.js[39m[0m[2m:9:45)[22m[2m[22m

[1m[31m  [1m● [22m[1msocket.io › responds to ping[39m[22m

    TypeError: Cannot read properties of undefined (reading 'disconnect')
[2m[22m
[2m    [0m [90m 16 |[39m[0m[22m
[2m    [0m [90m 17 |[39m   afterEach([36masync[39m () [33m=>[39m {[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 18 |[39m     serverSocket[33m.[39mdisconnect()[33m;[39m[0m[22m
[2m    [0m [90m    |[39m                  [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 19 |[39m     clientSocket[33m.[39mdisconnect()[33m;[39m[0m[22m
[2m    [0m [90m 20 |[39m     [36mawait[39m httpServer[33m.[39mclose()[33m;[39m[0m[22m
[2m    [0m [90m 21 |[39m     io[33m.[39mclose()[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.disconnect ([22m[2m[0m[36mcontrollers/socketio/index.test.js[39m[0m[2m:18:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2m./[22m[1mapp.test.js[22m ([0m[1m[41m634.852 s[49m[22m[0m)
  app
    [31m×[39m [2mreturns photos array (5018 ms)[22m
    [32m√[39m [2mreturns error on fail (69 ms)[22m

[1m[31m  [1m● [22m[1mapp › returns photos array[39m[22m

    listen EADDRINUSE: address already in use :::4000
[2m[22m
[2m    [0m [90m 12 |[39m[0m[22m
[2m    [0m [90m 13 |[39m   beforeEach((done) [33m=>[39m {[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 14 |[39m     server [33m=[39m app[33m.[39mlisten([35m4000[39m[33m,[39m (error) [33m=>[39m {[0m[22m
[2m    [0m [90m    |[39m                  [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 15 |[39m       [36mif[39m (error) [36mreturn[39m done()[33m;[39m[0m[22m
[2m    [0m [90m 16 |[39m[0m[22m
[2m    [0m [90m 17 |[39m       agent [33m=[39m request[33m.[39magent(server)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Function.listen ([22m[2m../../node_modules/express/lib/application.js[2m:635:24)[22m[2m[22m
[2m      [2mat Object.listen ([22m[2m[0m[36mapp.test.js[39m[0m[2m:14:18)[22m[2m[22m

[1m[31m  [1m● [22m[1mapp › returns photos array[39m[22m

    thrown: "Exceeded timeout of 5000 ms for a hook while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
[2m[22m
[2m    [0m [90m 11 |[39m   [36mlet[39m agent[33m;[39m[0m[22m
[2m    [0m [90m 12 |[39m[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 13 |[39m   beforeEach((done) [33m=>[39m {[0m[22m
[2m    [0m [90m    |[39m   [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 14 |[39m     server [33m=[39m app[33m.[39mlisten([35m4000[39m[33m,[39m (error) [33m=>[39m {[0m[22m
[2m    [0m [90m 15 |[39m       [36mif[39m (error) [36mreturn[39m done()[33m;[39m[0m[22m
[2m    [0m [90m 16 |[39m[0m[22m
[2m[22m
[2m      [2mat beforeEach ([22m[2m[0m[36mapp.test.js[39m[0m[2m:13:3)[22m[2m[22m
[2m      [2mat Object.describe ([22m[2m[0m[36mapp.test.js[39m[0m[2m:9:1)[22m[2m[22m

[33mA worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.[39m
[1mTest Suites: [22m[1m[31m2 failed[39m[22m, 2 total
[1mTests:       [22m[1m[31m2 failed[39m[22m, [1m[32m1 passed[39m[22m, 3 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        [1m[33m640.331 s[39m[22m
[2mRan all test suites[22m[2m.[22m
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.

[2m> [22m[2mnx run[22m .:ci

[2K[1G[2m$ npx nx run-many --target=ci[22m

 [36m>[39m [0m[7m[1m[36m NX [39m[22m[27m[0m  [36mRunning target [1mci[22m for 3 projects:[39m

    [2m-[22m memory-snap-frontend
    [2m-[22m memory-snap-backend
    [2m-[22m .

 

[2m> [22m[2mnx run[22m memory-snap-frontend:ci

[2K[1G[2m$ cross-env CI=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test react-scripts test[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/reducer/[22m[1mindex.test.js[22m ([0m[1m[41m16.543 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/Tile/[22m[1mindex.test.jsx[22m ([0m[1m[41m21.66 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/[22m[1mindex.test.jsx[22m ([0m[1m[41m21.697 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/[22m[1mApp.test.jsx[22m ([0m[1m[41m10.803 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/Spinner/[22m[1mindex.test.jsx[22m ([0m[1m[41m8.016 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/[22m[1mindex.test.jsx[22m ([0m[1m[41m9.035 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Layout/[22m[1mindex.test.jsx[22m ([0m[1m[41m7.029 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.785 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/usePhotosContext/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.878 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useGameContext/[22m[1mindex.test.jsx[22m ([0m[1m[41m563.078 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/PlayerHUD/[22m[1mindex.test.jsx[22m ([0m[1m[41m563.899 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Header/[22m[1mindex.test.jsx[22m ([0m[1m[41m563.956 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/TileGrid/[22m[1mindex.test.jsx[22m ([0m[1m[41m13.629 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/ProgressBar/[22m[1mindex.test.jsx[22m ([0m[1m[41m11.663 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Form/[22m[1mindex.test.jsx[22m ([0m[1m[41m10.793 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFetchedPhotos/[22m[1mindex.test.js[22m ([0m[1m[41m8.442 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFormContext/[22m[1mindex.test.jsx[22m ([0m[1m[41m10.074 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/ScoreBoard/[22m[1mindex.test.jsx[22m ([0m[1m[41m11.697 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/reducer/[22m[1mindex.test.js[22m ([0m[1m[41m5.647 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/reducer/[22m[1mindex.test.js[22m ([0m[1m[41m7.628 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/helpers/[22m[1mcreateTilesFromPhotos.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/actions/[22m[1mindex.test.js[22m
[33mA worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.[39m

[1mTest Suites: [22m[1m[32m24 passed[39m[22m, 24 total
[1mTests:       [22m[1m[32m62 passed[39m[22m, 62 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        [1m[33m642.579 s[39m[22m
[2mRan all test suites[22m[2m.[22m

[2m> [22m[2mnx run[22m memory-snap-backend:ci

[2K[1G[2m$ cross-env ci=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test yarn jest[22m
[2K[1G[2m$ C:\Users\keego\Documents\repos\memory-snap\node_modules\.bin\jest[22m
  [2m[33mconsole.warn[39m[22m
[33m    SOCKET DISCONNECTED[39m
[2m[22m
[2m    [0m [90m 12 |[39m[0m[22m
[2m    [0m [90m 13 |[39m [36mconst[39m handleDisconnect [33m=[39m () [33m=>[39m {[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 14 |[39m   console[33m.[39mwarn([32m'SOCKET DISCONNECTED'[39m)[33m;[39m[0m[22m
[2m    [0m [90m    |[39m           [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 15 |[39m }[33m;[39m[0m[22m
[2m    [0m [90m 16 |[39m[0m[22m
[2m    [0m [90m 17 |[39m [36mconst[39m setupDefaultEvents [33m=[39m (socket) [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat warn ([22m[2mcontrollers/socketio/index.js[2m:14:11)[22m[2m[22m
[2m      [2mat Socket.handleDisconnect ([22m[2mcontrollers/socketio/index.js[2m:19:33)[22m[2m[22m
[2m      [2mat Socket.emitReserved ([22m[2m../../node_modules/socket.io/dist/typed-events.js[2m:56:22)[22m[2m[22m
[2m      [2mat Socket._onclose ([22m[2m../../node_modules/socket.io/dist/socket.js[2m:561:14)[22m[2m[22m
[2m      [2mat Socket.disconnect ([22m[2m../../node_modules/socket.io/dist/socket.js[2m:607:18)[22m[2m[22m
[2m      [2mat Object.disconnect ([22m[2m[0m[36mcontrollers/socketio/index.test.js[39m[0m[2m:18:18)[22m[2m[22m

  [2m[33mconsole.warn[39m[22m
[33m    SOCKET DISCONNECTED[39m
[2m[22m
[2m    [0m [90m 12 |[39m[0m[22m
[2m    [0m [90m 13 |[39m [36mconst[39m handleDisconnect [33m=[39m () [33m=>[39m {[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 14 |[39m   console[33m.[39mwarn([32m'SOCKET DISCONNECTED'[39m)[33m;[39m[0m[22m
[2m    [0m [90m    |[39m           [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 15 |[39m }[33m;[39m[0m[22m
[2m    [0m [90m 16 |[39m[0m[22m
[2m    [0m [90m 17 |[39m [36mconst[39m setupDefaultEvents [33m=[39m (socket) [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat warn ([22m[2mcontrollers/socketio/index.js[2m:14:11)[22m[2m[22m
[2m      [2mat Socket.handleDisconnect ([22m[2mcontrollers/socketio/index.js[2m:19:33)[22m[2m[22m
[2m      [2mat Socket.emitReserved ([22m[2m../../node_modules/socket.io/dist/typed-events.js[2m:56:22)[22m[2m[22m
[2m      [2mat Socket._onclose ([22m[2m../../node_modules/socket.io/dist/socket.js[2m:561:14)[22m[2m[22m
[2m      [2mat Server.close ([22m[2m../../node_modules/socket.io/dist/index.js[2m:484:20)[22m[2m[22m
[2m      [2mat Object.close ([22m[2m[0m[36mcontrollers/socketio/index.test.js[39m[0m[2m:21:8)[22m[2m[22m

[0m[7m[1m[32m PASS [39m[22m[27m[0m [2mcontrollers/socketio/[22m[1mindex.test.js[22m ([0m[1m[41m626.796 s[49m[22m[0m)
  socket.io
    [32m√[39m [2mresponds to ping (1145 ms)[22m

[0m[7m[1m[32m PASS [39m[22m[27m[0m [2m./[22m[1mapp.test.js[22m ([0m[1m[41m629.756 s[49m[22m[0m)
  app
    [32m√[39m [2mreturns photos array (275 ms)[22m
    [32m√[39m [2mreturns error on fail (19 ms)[22m

[1mTest Suites: [22m[1m[32m2 passed[39m[22m, 2 total
[1mTests:       [22m[1m[32m3 passed[39m[22m, 3 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        [1m[33m634.796 s[39m[22m
[2mRan all test suites[22m[2m.[22m

[2m> [22m[2mnx run[22m .:ci

[2K[1G[2m$ npx nx run-many --target=ci[22m

 [36m>[39m [0m[7m[1m[36m NX [39m[22m[27m[0m  [36mRunning target [1mci[22m for 3 projects:[39m

    [2m-[22m memory-snap-frontend
    [2m-[22m memory-snap-backend
    [2m-[22m .

 

[2m> [22m[2mnx run[22m memory-snap-backend:ci

[2K[1G[2m$ cross-env ci=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test yarn jest[22m
[2K[1G[2m$ C:\Users\keego\Documents\repos\memory-snap\node_modules\.bin\jest[22m
'node' is not recognized as an internal or external command,
operable program or batch file.
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.

[2m> [22m[2mnx run[22m .:ci

[2K[1G[2m$ npx nx run-many --target=ci[22m

 [36m>[39m [0m[7m[1m[36m NX [39m[22m[27m[0m  [36mRunning target [1mci[22m for 3 projects:[39m

    [2m-[22m memory-snap-frontend
    [2m-[22m memory-snap-backend
    [2m-[22m .

 

[2m> [22m[2mnx run[22m .:ci

'yarn' is not recognized as an internal or external command,
operable program or batch file.

[2m> [22m[2mnx run[22m memory-snap-frontend:ci

'yarn' is not recognized as an internal or external command,
operable program or batch file.

[2m> [22m[2mnx run[22m memory-snap-backend:ci

'yarn' is not recognized as an internal or external command,
operable program or batch file.

 

 [31m>[39m [0m[7m[1m[31m NX [39m[22m[27m[0m  [31mRunning target [1mci[22m for 3 projects failed[39m

   [2mFailed tasks:[22m
   
   [2m-[22m .:ci
   [2m-[22m memory-snap-frontend:ci
   [2m-[22m memory-snap-backend:ci

[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.

[2m> [22m[2mnx run[22m memory-snap-frontend:ci

[2K[1G[2m$ cross-env CI=true yarn test[22m
[2K[1G[2m$ cross-env NODE_ENV=test react-scripts test[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useGameContext/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.622 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Header/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.926 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/PlayerHUD/[22m[1mindex.test.jsx[22m ([0m[1m[41m6.963 s[49m[22m[0m)
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/reducer/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/Tile/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/GameBoard/TileGrid/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/ProgressBar/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/ScoreBoard/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/Form/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFetchedPhotos/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/[22m[1mApp.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/useFormContext/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Setup/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/Spinner/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/hooks/usePhotosContext/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Layout/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/components/Game/[22m[1mindex.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/reducer/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/reducer/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/form/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/photos/actions/[22m[1mindex.test.js[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/helpers/[22m[1mcreateTilesFromPhotos.test.jsx[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [2msrc/contexts/game/actions/[22m[1mindex.test.js[22m

[1mTest Suites: [22m[1m[32m24 passed[39m[22m, 24 total
[1mTests:       [22m[1m[32m62 passed[39m[22m, 62 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        28.112 s, estimated 633 s
[2mRan all test suites[22m[2m.[22m

 

 [31m>[39m [0m[7m[1m[31m NX [39m[22m[27m[0m  [31mRunning target [1mci[22m for 3 projects failed[39m

   [2mFailed tasks:[22m
   
   [2m-[22m memory-snap-backend:ci
   [2m-[22m .:ci

[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.

 

 [31m>[39m [0m[7m[1m[31m NX [39m[22m[27m[0m  [31mRunning target [1mci[22m for 3 projects failed[39m

   [2mFailed tasks:[22m
   
   [2m-[22m .:ci

[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.

 

 [31m>[39m [0m[7m[1m[31m NX [39m[22m[27m[0m  [31mRunning target [1mci[22m for 3 projects failed[39m

   [2mFailed tasks:[22m
   
   [2m-[22m memory-snap-backend:ci
   [2m-[22m .:ci

[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.

 

 [31m>[39m [0m[7m[1m[31m NX [39m[22m[27m[0m  [31mRunning target [1mci[22m for 3 projects failed[39m

   [2mFailed tasks:[22m
   
   [2m-[22m .:ci

[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[94minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
